<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IntelliRead - Online Book Reading Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/Home.css}">
    <link rel="icon" type="image/x-icon" th:href="@{/images/favicon.ico}">

    <!-- Preload critical pages for instant navigation -->
    <link rel="preload" th:href="@{/login}" as="document">
    <link rel="preload" th:href="@{/books}" as="document">
    <link rel="preload" th:href="@{/bookscreen}" as="document">
</head>
<body>
<!-- Navbar -->
<header>
    <a th:href="@{/}" onclick="handleLogoClick(event)">
        <img th:src="@{/images/logo.png}" alt="IntelliRead Logo" style="height:80px; width:auto;">
    </a>
    <nav>
        <div class="nav-buttons">
            <!-- ✅ OPTIMIZED LOGIN BUTTON -->
            <button class="btn btn-outline" onclick="goToLoginInstant()">
                <img th:src="@{/images/login.png}" alt="login-icon" style="height: 50px; width: auto;">
            </button>
        </div>
    </nav>
</header>

<!-- container -->
<div class="container">
    <!-- Hero -->
    <section class="hero">
        <div class="hero-text">
            <h2>Read Smarter with <span>AI-Powered</span> Books</h2>
            <p>Discover, read, and enjoy books online anytime, anywhere. Personalized recommendations, seamless access, and a secure platform for all your favorite reads.</p>
        </div>
        <img src="images/image.png" alt="Book Reading">
    </section>

    <h1>Unlimited Books, Comics and more</h1>
    <p>Starts reading any where & any time.</p>

    <div class="button-container">
        <!-- ✅ OPTIMIZED EXPLORE BOOKS BUTTON -->
        <a th:href="@{/books}" class="explore-btn" onclick="handleExploreBooks(event)">Explore Books</a>
    </div>

    <!-- Features -->
    <section class="features">
        <h1>Why To Choose Intelli-Read....?</h1>
        <div class="feature-cards">
            <div class="card">
                <img src="https://img.icons8.com/ios-filled/80/4f46e5/smartphone.png" alt="Read Anywhere">
                <h4>Read Anywhere</h4>
                <p>Access your books across all devices <br>like — laptop, tablet, and mobile.</p>
            </div>
            <div class="card">
                <img src="https://img.icons8.com/ios-filled/80/4f46e5/open-book.png" alt="AI Recommendations">
                <h4>AI Recommendations</h4>
                <p>Get personalized suggestions based on your reading style.</p>
            </div>
            <div class="card">
                <img src="https://img.icons8.com/ios-filled/80/4f46e5/security-checked.png" alt="Secure Access">
                <h4>Secure Access</h4>
                <p>Your data and reading activity are always protected.</p>
            </div>
        </div>
    </section>
</div>

<!-- ===== FOOTER ===== -->
<footer class="main-footer" style="font-family: chakra petch;">
    <div class="footer-section">
        <h4>About</h4>
        <p>Designed and Developed by Team <b style="color: rgb(206, 232, 10); font-size: large;">Rv</b></p>
    </div>
    <div class="footer-section">
        <p>&copy; <span id="currentYear">2025</span> Intelli-Read. All Rights Reserved.</p>
        <p><a href="#">Terms of Service</a> | <a href="#">Privacy Policy</a></p>
    </div>
    <div class="footer-section">
        <h4>License</h4>
        <p>Standard License</p>
    </div>
</footer>

<script>
    // ===== INSTANT NAVIGATION SYSTEM =====

    // Page initialization
    document.addEventListener('DOMContentLoaded', function() {
        // Set current year
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Pre-fetch pages in background for instant loading
        preloadCriticalPages();

    });

    // ===== PRELOAD SYSTEM =====
    function preloadCriticalPages() {
        // Create invisible iframes to preload pages
        const pagesToPreload = ['/login', '/books', '/bookscreen'];

        pagesToPreload.forEach(page => {
            const iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            iframe.src = page;
            document.body.appendChild(iframe);

            // Remove after short time to save resources
            setTimeout(() => {
                if (document.body.contains(iframe)) {
                    document.body.removeChild(iframe);
                }
            }, 3000);
        });
    }

    // ===== INSTANT NAVIGATION FUNCTIONS =====

    // ✅ ULTRA-FAST LOGIN REDIRECT (0.05 seconds)
    function goToLoginInstant() {

        // Immediate visual feedback
        const btn = event.target.closest('button');
        if (btn) {
            btn.style.opacity = '0.7';
            btn.disabled = true;
        }

        // Instant redirect with minimal delay
        setTimeout(() => {
            window.location.href = '/login';
        }, 50); // 0.05 seconds - virtually instant
    }

    // ✅ OPTIMIZED EXPLORE BOOKS (0.05 seconds)
    function handleExploreBooks(event) {

        // Prevent default if needed, but allow normal navigation
        if (event) {
            event.preventDefault();
        }

        // Immediate visual feedback
        const link = event.target;
        link.style.opacity = '0.7';
        link.style.pointerEvents = 'none';

        // Instant redirect
        setTimeout(() => {
            window.location.href = '/books';
        }, 50); // 0.05 seconds
    }

    // ✅ LOGO CLICK HANDLER (0.05 seconds)
    function handleLogoClick(event) {

        // If already on home page, prevent navigation
        if (window.location.pathname === '/') {
            event.preventDefault();
            return;
        }

        // Immediate visual feedback
        const logo = event.target.closest('a');
        if (logo) {
            logo.style.opacity = '0.7';
        }

        // Instant redirect to home
        setTimeout(() => {
            window.location.href = '/';
        }, 50); // 0.05 seconds
    }

    // ===== ENHANCED USER EXPERIENCE =====

    // Add instant hover effects for better feedback
    document.addEventListener('DOMContentLoaded', function() {
        const interactiveElements = document.querySelectorAll('a, button, .explore-btn');

        interactiveElements.forEach(element => {
            // Add instant hover feedback
            element.addEventListener('mouseover', function() {
                this.style.transform = 'translateY(-2px)';
                this.style.transition = 'all 0.1s ease';
            });

            element.addEventListener('mouseout', function() {
                this.style.transform = 'translateY(0)';
            });

            // Add touch feedback for mobile
            element.addEventListener('touchstart', function() {
                this.style.opacity = '0.8';
            });

            element.addEventListener('touchend', function() {
                this.style.opacity = '1';
            });
        });
    });

    // ===== PERFORMANCE MONITORING =====

    // Monitor navigation performance
    const originalPushState = history.pushState;
    history.pushState = function() {
        return originalPushState.apply(this, arguments);
    };

    // Log page load performance
    window.addEventListener('load', function() {
        const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
    });

    // ===== FALLBACK SYSTEM =====

    // If instant navigation fails, fallback to normal navigation
    function fallbackNavigation(url) {
        window.location.href = url;
    }

    // Global error handler for navigation
    window.addEventListener('error', function(e) {
        if (e.message.includes('navigation')) {
        }
    });

    // Legacy function for backward compatibility
    function exploreBooks() {
        handleExploreBooks();
    }
</script>

</body>
</html>